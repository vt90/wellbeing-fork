<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>
            WellBeing
        </ion-title>
        <ion-buttons class="lang-buttons ion-hide-md-down" slot="primary">
            <app-langselect></app-langselect>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>
    <form #profileForm="ngForm" (ngSubmit)="save(profileForm)">
        <ion-grid>
            <ion-row>
                <ion-col size="2" class="vertical-menu">
                    Left side navigation
                </ion-col>
                <ion-col size="10" *ngIf="patient">
                    <ion-grid>
                        <ion-row>
                            <ion-col>
                                <ion-item>
                                    <ion-icon *ngIf="patient.profilePic" name="trash-sharp"
                                        (click)="patient.profilePic=null"></ion-icon>
                                    <ion-avatar style="width: 200px;height: 200px;" slot="start">
                                        <label class="hoverable" for="fileInput">
                                            <img
                                                [src]="patient.profilePic ? patient.profilePic: './assets/icon/profile.jpg'">
                                            <div class="hover-text">Change Profile Pic</div>
                                            <div class="background"></div>
                                        </label>
                                    </ion-avatar>
                                    <input id="fileInput" type="file" (change)="onProfilePicChange($event)">
                                    <ion-label> {{patient.fName}} {{ patient.lName}}</ion-label>
                                </ion-item>
                            </ion-col>
                        </ion-row>

                        <ion-row>
                            <ion-col>
                                <ion-item>
                                    <ion-label position="stacked"><strong>First Name</strong>
                                        <ion-input type="text" ngModel name="fName" required pattern="[a-zA-Z ]*"
                                            #fnameCtrl="ngModel" [(ngModel)]="patient.fName">
                                        </ion-input>
                                    </ion-label>
                                </ion-item>
                                <ion-item *ngIf="fnameCtrl.invalid && (fnameCtrl.touched || fnameCtrl.dirty)"
                                    lines="none">
                                    <ion-item *ngIf="fnameCtrl.errors.required">
                                        <ion-label color="danger"> first name required,cannot be empty</ion-label>
                                    </ion-item>
                                    <ion-item *ngIf="fnameCtrl.hasError('pattern')">
                                        <ion-label color="danger"> first name is invalid</ion-label>
                                    </ion-item>
                                </ion-item>

                                <ion-item>
                                    <ion-label position="stacked"><strong> Date Of Birth</strong> <br>
                                        <label><input class="birthDate" type="date" name="bDate"></label>
                                    </ion-label>
                                </ion-item>
                                <ion-item>
                                    <ion-label position="stacked"><strong>Contact Number</strong>
                                        <ion-input type="number" name="contact" ngModel required pattern="^\d{10}$"
                                            #contactCtrl="ngModel" [(ngModel)]="patient.contactNumber">
                                        </ion-input>
                                    </ion-label>
                                </ion-item>
                                <ion-item *ngIf="contactCtrl.invalid && (contactCtrl.touched || contactCtrl.dirty)"
                                    lines="none">
                                    <ion-item *ngIf="contactCtrl.errors.required">
                                        <ion-label color="danger"> Contact Number required</ion-label>
                                    </ion-item>
                                    <ion-item *ngIf="contactCtrl.hasError('pattern')">
                                        <ion-label color="danger">Contact Number is invalid</ion-label>
                                    </ion-item>
                                </ion-item>
                            </ion-col>

                            <ion-col>
                                <ion-item>
                                    <ion-label position="stacked"><strong>Last Name</strong>
                                        <ion-input type="text" ngModel name="lName" required pattern="[a-zA-Z ]*"
                                            #lnameCtrl="ngModel" [(ngModel)]="patient.lName">
                                        </ion-input>
                                    </ion-label>
                                </ion-item>
                                <ion-item *ngIf="lnameCtrl.invalid && (lnameCtrl.touched || lnameCtrl.dirty)"
                                    lines="none">
                                    <ion-item *ngIf="lnameCtrl.errors.required">
                                        <ion-label color="danger"> Last name required,cannot be empty</ion-label>
                                    </ion-item>
                                    <ion-item *ngIf="lnameCtrl.hasError('pattern')">
                                        <ion-label color="danger"> Last name is invalid</ion-label>
                                    </ion-item>
                                </ion-item>

                                <ion-item>
                                    <ion-label position="stacked"><strong>Email Address</strong>
                                        <ion-input type="email" ngModel name="emailID" required
                                            pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" [(ngModel)]="patient.email"
                                            #emailCtrl="ngModel">
                                        </ion-input>
                                    </ion-label>
                                </ion-item>
                                <ion-item *ngIf="emailCtrl.invalid && (emailCtrl.touched || emailCtrl.dirty)"
                                    lines="none">
                                    <ion-item *ngIf="emailCtrl.errors.required">
                                        <ion-label color="danger"> Email required</ion-label>
                                    </ion-item>
                                    <ion-item *ngIf="emailCtrl.hasError('pattern')">
                                        <ion-label color="danger">email is Invalid</ion-label>
                                    </ion-item>
                                </ion-item>
                            </ion-col>
                        </ion-row>

                        <ion-row>
                            <ion-col>
                                <ion-item>
                                    <ion-label position="stacked"><strong>Address line 1</strong>
                                        <ion-input type="text" name="address1" [(ngModel)]="patient.addressLine1">
                                        </ion-input>
                                    </ion-label>
                                </ion-item>
                                <ion-item>
                                    <ion-label position="stacked"><strong>City</strong>
                                        <ion-input type="text" name="city" [(ngModel)]="patient.city" ngModel
                                            pattern="[a-zA-Z ]*" #cityCtrl="ngModel">
                                        </ion-input>
                                    </ion-label>
                                </ion-item>
                                <ion-item *ngIf="cityCtrl.hasError('pattern')">
                                    <ion-label color="danger">enter valid input</ion-label>
                                </ion-item>
                                <ion-item>
                                    <ion-label position="stacked"><strong>Country</strong>
                                        <ion-input type="text" name="country" [(ngModel)]="patient.country" ngModel
                                            pattern="[a-zA-Z ]*" #countryCtrl="ngModel">
                                        </ion-input>
                                    </ion-label>
                                </ion-item>
                                <ion-item *ngIf="countryCtrl.hasError('pattern')">
                                    <ion-label color="danger">enter valid input</ion-label>
                                </ion-item>
                            </ion-col>
                            <ion-col>
                                <ion-item>
                                    <ion-label position="stacked"><strong>Address line 2</strong>
                                        <ion-input type="text" name="address2" [(ngModel)]="patient.addressLine2">
                                        </ion-input>
                                    </ion-label>
                                </ion-item>
                                <ion-item>
                                    <ion-label position="stacked"><strong>State/Provience/Region</strong>
                                        <ion-input type="text" name="state" [(ngModel)]="patient.state" ngModel
                                            pattern="[a-zA-Z ]*" #stateCtrl="ngModel">
                                        </ion-input>
                                    </ion-label>
                                </ion-item>
                                <ion-item *ngIf="stateCtrl.hasError('pattern')">
                                    <ion-label color="danger">enter valid input</ion-label>
                                </ion-item>
                                <ion-item>
                                    <ion-label position="stacked"><strong>Zip/Postal code</strong>
                                        <ion-input type="number" name="code" [(ngModel)]="patient.zipcode" ngModel
                                            pattern="[0-9]{6}" #zipCtrl="ngModel">
                                        </ion-input>
                                    </ion-label>
                                </ion-item>
                                <ion-item *ngIf="zipCtrl.hasError('pattern')">
                                    <ion-label color="danger">enter 6 digit zip code</ion-label>
                                </ion-item>
                            </ion-col>
                        </ion-row>
                        <div class="col text-center">
                            <ion-button type="submit" [disabled]="profileForm.invalid">Save</ion-button>
                        </div>
                    </ion-grid>
                </ion-col>
            </ion-row>
        </ion-grid>
    </form>
</ion-content>
