<!--
  Generated template for the DocAddClinicPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title *ngIf="!homeClinic" >Add Clinic</ion-title>
    <ion-title *ngIf="homeClinic">Home Clinic</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding *ngIf="!homeClinic">
	<form [formGroup]="Clinic" (ngSubmit)="addNewClinic(Clinic)" novalidate>
		<ion-list>
			<!-- <ion-item>
				<ion-label stacked>Select Visit Type</ion-label>
				<ion-select [(ngModel)]="visit" (ionChange)="onChange(visit)">
					<ion-option value="1" selected>Clinic Visit</ion-option>
					<ion-option value="2">Home Visit</ion-option>
				</ion-select>
			</ion-item> -->
			
			
			<!-- <ion-item [hidden]="test">
				<ion-label stacked>Clinic / Hospital Name</ion-label>
				<ion-input type="text" value=""></ion-input>
			</ion-item> -->
			
			<ion-item>
				<ion-label floating>Enter Name</ion-label>
				<ion-input type="text" [(ngModel)]="clinic_name" formControlName="clinicName"></ion-input>
			</ion-item>
			
			<ion-item>
				<ion-label floating>Enter Contact No</ion-label>
				<ion-input type="tel" [(ngModel)]="clinic_contact_no" formControlName="clinicContactNo"  minlength="10" maxlength="15" ></ion-input>
			</ion-item>
			
			<ion-item>
				<ion-label floating>State</ion-label>
				<ion-select formControlName="stateId" [(ngModel)]="state_id" (ngModelChange)="changeState(state_id)">
					<ion-option *ngFor="let s of states" value="{{s.id}}">{{s.state_name}}</ion-option>
				</ion-select>
			</ion-item>
			
			<ion-item>
				<ion-label floating>City</ion-label>
				<ion-select formControlName="cityId" [(ngModel)]="city_id" (ngModelChange)="changeCity(city_id)">
					<ion-option *ngFor="let c of cities" value="{{c.id}}">{{c.city_name}}</ion-option>
				</ion-select>
			</ion-item>
			
			<ion-item>
				<ion-label floating>Location</ion-label>
				<ion-select formControlName="locationId" [(ngModel)]="location_id" (ngModelChange)="changeLocation(location_id)">
					<ion-option *ngFor="let l of locations" value="{{l.id}}">{{l.location}}</ion-option>
					<ion-option value="Other">Other</ion-option>
				</ion-select>
			</ion-item>
			
			<ion-item *ngIf="test">
				<ion-label floating>Enter Location</ion-label>
				<ion-input type="text" [(ngModel)]="other_location" formControlName="other_location"></ion-input>
			</ion-item>
			
			<ion-item>
				<ion-label floating>Enter Address</ion-label>
				<ion-input type="text" [(ngModel)]="clinicAddress" formControlName="clinicAddress"></ion-input>
			</ion-item>
			<ion-item>
				<ion-label stacked class="wrapText"><b>Note</b>: Please enter exact address similar to the google maps.</ion-label>
			</ion-item>
			<!-- <ion-item>
				<ion-label stacked>Google Map Link</ion-label>
				<ion-textarea type="text" [(ngModel)]="maplink" formControlName="maplink" rows="3" ></ion-textarea>
				
			</ion-item> 
			<ion-item>
				<ion-label stacked class="wrapText">Note: If you have registered your address on google maps, then you can get the embedd URL by clicking on the share icon</ion-label>
			</ion-item>-->
			
		</ion-list>
		<button ion-button full>Submit</button>
	</form>
	<div  text-center *ngIf="clinicId">
		<button ion-button  icon-right  (click)="goToClinicImages(clinicId)">
			Add Clinic Images
			<ion-icon name="attach"></ion-icon>
		</button>
	</div>
		
</ion-content>

<ion-content padding *ngIf="homeClinic">
	<form [formGroup]="Clinic" (ngSubmit)="addHomeClinic(Clinic)" novalidate>
		<ion-list>
			
			<ion-item>
				<ion-label floating>Enter Name</ion-label>
				<ion-input disabled type="text" [(ngModel)]="doctor_clinic_name" formControlName="clinicName"></ion-input>
			</ion-item>
			
			<ion-item>
				<ion-label floating>Enter Contact No</ion-label>
				<ion-input type="tel" [(ngModel)]="clinic_contact_no" formControlName="clinicContactNo"  minlength="10" maxlength="15" ></ion-input>
			</ion-item>
			
			<ion-item>
				<ion-label floating>State</ion-label>
				<ion-select formControlName="stateId" [(ngModel)]="state_id" (ngModelChange)="changeState(state_id)">
					<ion-option *ngFor="let s of states" value="{{s.id}}">{{s.state_name}}</ion-option>
				</ion-select>
			</ion-item>
			
			<ion-item>
				<ion-label floating>City</ion-label>
				<ion-select formControlName="cityId" [(ngModel)]="city_id" (ngModelChange)="changeCity(city_id)">
					<ion-option *ngFor="let c of cities" value="{{c.id}}">{{c.city_name}}</ion-option>
				</ion-select>
			</ion-item>
			
			<ion-item>
				<ion-label floating>Location</ion-label>
				<ion-select formControlName="locationId" [(ngModel)]="location_id" (ngModelChange)="changeLocation(location_id)" multiple>
					<ion-option *ngFor="let l of locations" value="{{l.id}}">{{l.location}}</ion-option>
					<ion-option value="Other">Other</ion-option>
				</ion-select>
			</ion-item>
			
			<ion-item *ngIf="test">
				<ion-label floating>Enter Location</ion-label>
				<ion-input type="text" [(ngModel)]="other_location" formControlName="other_location"></ion-input>
			</ion-item>	
		</ion-list>
		<div text-center>
			<button ion-button >Submit</button>
		</div>
	</form>
		<div text-center>
			<button ion-button color="dark" (click)="removeClinic()" *ngIf="clinicId" >Clear</button>
		</div>
</ion-content>
